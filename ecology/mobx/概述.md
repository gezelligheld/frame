mobx同redux一样是独立的，不依赖于react本身，其他框架也可以使用

#### 基本用法

![image](https://cn.mobx.js.org/flow.png)

示例如下

```js
import { observer } from 'mobx-react';
import { makeAutoObservable, makeObservable, observable, action, computed, flow } from 'mobx';

class AttributeData {
  data = '';

  constructor(defaultValue?: string) {
    makeAutoObservable(this);
    // 或者
    // makeObservable(this, {
    //   data: observable,
    //   setData: action,
    //   confirm: action,
    //   isValidData: computed,
    // });
    this.data = defaultValue || '';
  }

  setData = (value: string) => {
    this.data = value;
  };

  confirm = () => {
    return Promise.resolve(this.data);
  };

  get isValidData() {
    return this.data > 5;
  }
}

const Page = observer(() => {
  const model = useMemo(() => new AttributeData(), []);
  // todo
})
```

以下是mobx常用的api

- makeAutoObservable / makeObservable

让整个模块变成可响应式的，可以取代之前的装饰器写法，其中makeAutoObservable会自动将变量标记为observable，普通函数标记为action，生成器函数标记为flow，getter标记为computed，如有特殊情况使用makeObservable依次指定

- observable

使其成为可观察的，当其改变的时候，观察者会通知每个依赖项

- action

action标记的函数用来修改mobx的状态

- computed

用于标记getter

- flow

用于标记生成器函数，用来处理异步的状态改变

以下是mobx-react常用的api

- Provider && inject

Provider将mobx的数据以context上下文的形式保存，inject可以将其注入到组件props中（实践较少）

- observer

被 observer 高阶组件包装的组件，如果组件内部引入了 mobx 可观察属性值，当值改变的时候，会追溯到当前组件，促使当前组件更新

#### 原理

